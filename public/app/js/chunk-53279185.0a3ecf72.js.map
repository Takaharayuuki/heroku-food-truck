{"version":3,"sources":["webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?1987","webpack:///./src/views/Register.vue?be94","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","for","id","formData","userEmail","type","placeholder","userName","password","signUp","to","name","setup","router","userType","isLoggedIn","loginData","a","post","email","then","response","get","withCredentials","getUser","value","push","catch","error","console","log","err","data","alert","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","this","match"],"mappings":"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","file":"js/chunk-53279185.0a3ecf72.js","sourcesContent":["<template>\n  <div>\n    <div class=\"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div class=\"w-full max-w-lg mx-auto\">\n        <form class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n          <h2\n            class=\"\n              mb-6\n              pb-6\n              border-b\n              text-center text-2xl\n              font-extrabold\n              text-gray-900\n            \"\n          >\n            新規登録\n          </h2>\n          <div class=\"text-left mb-4\">\n            <label\n              class=\"block text-gray-700 text-sm font-bold mb-2\"\n              for=\"userEmail\"\n            >\n              メールアドレス\n            </label>\n            <input\n              class=\"\n                shadow\n                appearance-none\n                border\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              \"\n              id=\"userEmail\"\n              v-model=\"formData.userEmail\"\n              type=\"email\"\n              placeholder=\"foodtruck@example.com\"\n            />\n          </div>\n          <div class=\"text-left mb-4\">\n            <label\n              class=\"block text-gray-700 text-sm font-bold mb-2\"\n              for=\"userName\"\n            >\n              ユーザーネーム\n            </label>\n            <input\n              class=\"\n                shadow\n                appearance-none\n                border\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              \"\n              id=\"userName\"\n              v-model=\"formData.userName\"\n              type=\"text\"\n              placeholder=\"田中 太郎\"\n            />\n          </div>\n          <div class=\"text-left mb-6\">\n            <label\n              class=\"block text-gray-700 text-sm font-bold mb-2\"\n              for=\"password\"\n            >\n              パスワード\n            </label>\n            <input\n              class=\"\n                shadow\n                appearance-none\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                mb-3\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              \"\n              id=\"password\"\n              v-model=\"formData.password\"\n              type=\"password\"\n              placeholder=\"******\"\n            />\n          </div>\n          <div class=\"flex items-center justify-between\">\n            <button\n              class=\"\n                bg-blue-500\n                hover:bg-blue-700\n                text-white\n                font-bold\n                py-2\n                px-4\n                rounded\n                focus:outline-none focus:shadow-outline\n                w-1/2\n                mr-1\n              \"\n              type=\"button\"\n              @click=\"signUp\"\n            >\n              登録する\n            </button>\n            <router-link\n              class=\"\n                inline-block\n                font-bold\n                text-center text-sm text-blue-500\n                hover:text-blue-800\n                rounded\n                w-1/2\n                py-2\n                px-4\n                border border-blue-500\n              \"\n              to=\"/login\"\n            >\n              ログイン\n            </router-link>\n          </div>\n        </form>\n        <pre>{{ formData }}</pre>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, inject } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  name: \"Register\",\n  setup() {\n    const router = useRouter();\n    const formData = reactive({\n      userEmail: \"\",\n      userName: \"\",\n      password: \"\",\n      userType: \"customer\",\n    });\n\n    /* ログインの有無 */\n    const isLoggedIn: any = inject(\"isLoggedIn\");\n\n    /* ログインしたユーザの情報 */\n    const loginData: any = inject(\"loginData\");\n\n    /* 新規登録 */\n    function signUp() {\n      axios\n        .post(\"api/register\", {\n          email: formData.userEmail,\n          name: formData.userName,\n          password: formData.password,\n          userType: formData.userType,\n        })\n        .then((response) => {\n          // 新規登録が正常に完了したらログインしてTopへ\n          axios\n            .get(\"sanctum/csrf-cookie\", { withCredentials: true })\n            .then((response) => {\n              axios\n                .post(\"api/auth/login\", {\n                  email: formData.userEmail,\n                  password: formData.password,\n                })\n                .then((response) => {\n                  getUser();\n                  isLoggedIn.value = true;\n                  router.push(\"/\");\n                })\n                .catch((error) => {\n                  isLoggedIn.value = false;\n                });\n            })\n            .catch((error) => {\n              console.log(`csrfの方:  ${error}  `);\n            });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n    function getUser() {\n      axios\n        .get(\"api/user\", { withCredentials: true })\n        .then((response) => {\n          loginData.userEmail = response.data.email;\n          loginData.userName = response.data.name;\n          loginData.userType = response.data.userType;\n        })\n        .catch((error) => {\n          alert(error.response);\n          isLoggedIn.value = false;\n        });\n    }\n\n    return {\n      // データ\n      formData,\n      // 関数\n      signUp,\n    };\n  },\n});\n</script>\n","\nimport { defineComponent, reactive, inject } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n\nexport default defineComponent({\n  name: \"Register\",\n  setup() {\n    const router = useRouter();\n    const formData = reactive({\n      userEmail: \"\",\n      userName: \"\",\n      password: \"\",\n      userType: \"customer\",\n    });\n\n    /* ログインの有無 */\n    const isLoggedIn: any = inject(\"isLoggedIn\");\n\n    /* ログインしたユーザの情報 */\n    const loginData: any = inject(\"loginData\");\n\n    /* 新規登録 */\n    function signUp() {\n      axios\n        .post(\"api/register\", {\n          email: formData.userEmail,\n          name: formData.userName,\n          password: formData.password,\n          userType: formData.userType,\n        })\n        .then((response) => {\n          // 新規登録が正常に完了したらログインしてTopへ\n          axios\n            .get(\"sanctum/csrf-cookie\", { withCredentials: true })\n            .then((response) => {\n              axios\n                .post(\"api/auth/login\", {\n                  email: formData.userEmail,\n                  password: formData.password,\n                })\n                .then((response) => {\n                  getUser();\n                  isLoggedIn.value = true;\n                  router.push(\"/\");\n                })\n                .catch((error) => {\n                  isLoggedIn.value = false;\n                });\n            })\n            .catch((error) => {\n              console.log(`csrfの方:  ${error}  `);\n            });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n    function getUser() {\n      axios\n        .get(\"api/user\", { withCredentials: true })\n        .then((response) => {\n          loginData.userEmail = response.data.email;\n          loginData.userName = response.data.name;\n          loginData.userType = response.data.userType;\n        })\n        .catch((error) => {\n          alert(error.response);\n          isLoggedIn.value = false;\n        });\n    }\n\n    return {\n      // データ\n      formData,\n      // 関数\n      signUp,\n    };\n  },\n});\n","import { render } from \"./Register.vue?vue&type=template&id=2f86396f\"\nimport script from \"./Register.vue?vue&type=script&lang=ts\"\nexport * from \"./Register.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}