(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c40e7e0"],{a55b:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),a={class:"vld-parent"},c={class:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},l={class:"w-full max-w-lg mx-auto"},r={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},s=Object(o["createElementVNode"])("h2",{class:"\n              mb-6\n              pb-6\n              border-b\n              text-center text-2xl\n              font-extrabold\n              text-gray-900\n            "}," ログイン ",-1),i={class:"text-left mb-4"},u=Object(o["createElementVNode"])("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"userEmail"}," メールアドレス ",-1),d={class:"text-left mb-6"},b=Object(o["createElementVNode"])("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," パスワード ",-1),p={class:"flex items-center justify-between"},m=Object(o["createTextVNode"])(" 新規登録 ");function f(e,t,n,f,g,x){var w=Object(o["resolveComponent"])("loading"),h=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createVNode"])(w,{active:e.isLoading,"can-cancel":!0,"is-full-page":!0,color:"#007BFF"},null,8,["active"]),Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("form",r,[s,Object(o["createElementVNode"])("div",i,[u,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"\n                shadow\n                appearance-none\n                border\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              ",id:"userEmail","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.userEmail=t}),type:"text",placeholder:"foodtruck@example.com"},null,512),[[o["vModelText"],e.form.userEmail]])]),Object(o["createElementVNode"])("div",d,[b,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"\n                shadow\n                appearance-none\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                mb-3\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              ",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.password=t}),type:"password",placeholder:"******"},null,512),[[o["vModelText"],e.form.password]])]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("button",{class:"\n                bg-blue-500\n                hover:bg-blue-700\n                text-white\n                font-bold\n                py-2\n                px-4\n                rounded\n                focus:outline-none focus:shadow-outline\n                w-1/2\n                mr-1\n              ",type:"button",onClick:t[2]||(t[2]=function(){return e.login&&e.login.apply(e,arguments)})}," ログイン "),Object(o["createVNode"])(h,{class:"\n                inline-block\n                font-bold\n                text-center text-sm text-blue-500\n                hover:text-blue-800\n                rounded\n                w-1/2\n                py-2\n                px-4\n                border border-blue-500\n              ",to:"/register"},{default:Object(o["withCtx"])((function(){return[m]})),_:1})])])])])])}n("b0c0");var g=n("6c02"),x=n("bc3a"),w=n.n(x),h=n("9062"),j=n.n(h),O=(n("e40d"),Object(o["defineComponent"])({name:"Login",setup:function(){var e=Object(g["d"])(),t=Object(o["reactive"])({userName:"",userEmail:"",password:""}),n=Object(o["inject"])("isLoggedIn"),a=Object(o["inject"])("loginData");function c(){console.log(t),w.a.get("sanctum/csrf-cookie",{withCredentials:!0}).then((function(o){w.a.post("api/auth/login",{email:t.userEmail,password:t.password}).then((function(t){l(),n.value=!0,e.push("/")})).catch((function(e){n.value=!1}))})).catch((function(e){console.log("csrfの方:  ".concat(e,"  "))}))}function l(){w.a.get("api/user",{withCredentials:!0}).then((function(e){a.userId=e.data.id,a.userEmail=e.data.email,a.userName=e.data.name,a.userType=e.data.userType})).catch((function(e){alert(e.response),n.value=!1}))}return{form:t,isLoggedIn:n,loginData:a,login:c,getUser:l}},components:{Loading:j.a}}));O.render=f;t["default"]=O},b0c0:function(e,t,n){var o=n("83ab"),a=n("9bf2").f,c=Function.prototype,l=c.toString,r=/^\s*function ([^ (]*)/,s="name";o&&!(s in c)&&a(c,s,{configurable:!0,get:function(){try{return l.call(this).match(r)[1]}catch(e){return""}}})},e40d:function(e,t,n){}}]);
//# sourceMappingURL=chunk-2c40e7e0.f7248d65.js.map