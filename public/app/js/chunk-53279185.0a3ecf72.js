(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53279185"],{"73cf":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),a={class:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},c={class:"w-full max-w-lg mx-auto"},r={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},l=Object(o["createElementVNode"])("h2",{class:"\n              mb-6\n              pb-6\n              border-b\n              text-center text-2xl\n              font-extrabold\n              text-gray-900\n            "}," 新規登録 ",-1),s={class:"text-left mb-4"},u=Object(o["createElementVNode"])("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"userEmail"}," メールアドレス ",-1),i={class:"text-left mb-4"},d=Object(o["createElementVNode"])("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"userName"}," ユーザーネーム ",-1),b={class:"text-left mb-6"},m=Object(o["createElementVNode"])("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," パスワード ",-1),p={class:"flex items-center justify-between"},f=Object(o["createTextVNode"])(" ログイン ");function x(e,t,n,x,h,w){var g=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("form",r,[l,Object(o["createElementVNode"])("div",s,[u,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"\n                shadow\n                appearance-none\n                border\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              ",id:"userEmail","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formData.userEmail=t}),type:"email",placeholder:"foodtruck@example.com"},null,512),[[o["vModelText"],e.formData.userEmail]])]),Object(o["createElementVNode"])("div",i,[d,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"\n                shadow\n                appearance-none\n                border\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              ",id:"userName","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.userName=t}),type:"text",placeholder:"田中 太郎"},null,512),[[o["vModelText"],e.formData.userName]])]),Object(o["createElementVNode"])("div",b,[m,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"\n                shadow\n                appearance-none\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                mb-3\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              ",id:"password","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.password=t}),type:"password",placeholder:"******"},null,512),[[o["vModelText"],e.formData.password]])]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("button",{class:"\n                bg-blue-500\n                hover:bg-blue-700\n                text-white\n                font-bold\n                py-2\n                px-4\n                rounded\n                focus:outline-none focus:shadow-outline\n                w-1/2\n                mr-1\n              ",type:"button",onClick:t[3]||(t[3]=function(){return e.signUp&&e.signUp.apply(e,arguments)})}," 登録する "),Object(o["createVNode"])(g,{class:"\n                inline-block\n                font-bold\n                text-center text-sm text-blue-500\n                hover:text-blue-800\n                rounded\n                w-1/2\n                py-2\n                px-4\n                border border-blue-500\n              ",to:"/login"},{default:Object(o["withCtx"])((function(){return[f]})),_:1})])]),Object(o["createElementVNode"])("pre",null,Object(o["toDisplayString"])(e.formData),1)])])])}n("b0c0");var h=n("bc3a"),w=n.n(h),g=n("6c02"),j=Object(o["defineComponent"])({name:"Register",setup:function(){var e=Object(g["d"])(),t=Object(o["reactive"])({userEmail:"",userName:"",password:"",userType:"customer"}),n=Object(o["inject"])("isLoggedIn"),a=Object(o["inject"])("loginData");function c(){w.a.post("api/register",{email:t.userEmail,name:t.userName,password:t.password,userType:t.userType}).then((function(o){w.a.get("sanctum/csrf-cookie",{withCredentials:!0}).then((function(o){w.a.post("api/auth/login",{email:t.userEmail,password:t.password}).then((function(t){r(),n.value=!0,e.push("/")})).catch((function(e){n.value=!1}))})).catch((function(e){console.log("csrfの方:  ".concat(e,"  "))}))})).catch((function(e){console.log(e)}))}function r(){w.a.get("api/user",{withCredentials:!0}).then((function(e){a.userEmail=e.data.email,a.userName=e.data.name,a.userType=e.data.userType})).catch((function(e){alert(e.response),n.value=!1}))}return{formData:t,signUp:c}}});j.render=x;t["default"]=j},b0c0:function(e,t,n){var o=n("83ab"),a=n("9bf2").f,c=Function.prototype,r=c.toString,l=/^\s*function ([^ (]*)/,s="name";o&&!(s in c)&&a(c,s,{configurable:!0,get:function(){try{return r.call(this).match(l)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-53279185.0a3ecf72.js.map