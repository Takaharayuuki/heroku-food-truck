{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e144","webpack:///./src/views/Login.vue?e63b","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","for","active","isLoading","can-cancel","is-full-page","color","id","form","userEmail","type","placeholder","password","login","to","name","setup","router","userName","isLoggedIn","loginData","console","log","a","get","withCredentials","then","response","post","email","getUser","value","push","catch","error","userId","data","userType","alert","components","Loading","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","this","match"],"mappings":"0IACOA,MAAM,c,GAOJA,MAAM,+D,GACJA,MAAM,2B,GACHA,MAAM,kD,EACV,gCAWK,MAVHA,MAAM,iLAQP,UAED,G,GACKA,MAAM,kB,EACT,gCAKQ,SAJNA,MAAM,6CACNC,IAAI,aACL,aAED,G,GAoBGD,MAAM,kB,EACT,gCAKQ,SAJNA,MAAM,6CACNC,IAAI,YACL,WAED,G,GAoBGD,MAAM,qC,+BAgCR,U,sJA1GX,gCAiHM,MAjHN,EAiHM,CAhHJ,yBAKW,GAJRE,OAAQ,EAAAC,UACRC,cAAY,EACZC,gBAAc,EACfC,MAAM,W,mBAER,gCAyGM,MAzGN,EAyGM,CAxGJ,gCAuGM,MAvGN,EAuGM,CAtGJ,gCAqGO,OArGP,EAqGO,CApGL,EAYA,gCAyBM,MAzBN,EAyBM,CAxBJ,E,4BAMA,gCAiBE,SAhBAN,MAAM,wTAYNO,GAAG,Y,qDACM,EAAAC,KAAKC,UAAS,IACvBC,KAAK,OACLC,YAAY,yB,4BAFH,EAAAH,KAAKC,eAKlB,gCAyBM,MAzBN,EAyBM,CAxBJ,E,4BAMA,gCAiBE,SAhBAT,MAAM,sTAYNO,GAAG,W,qDACM,EAAAC,KAAKI,SAAQ,IACtBF,KAAK,WACLC,YAAY,U,4BAFH,EAAAH,KAAKI,cAKlB,gCAmCM,MAnCN,EAmCM,CAlCJ,gCAiBS,UAhBPZ,MAAM,qTAYNU,KAAK,SACJ,QAAK,8BAAE,EAAAG,OAAA,EAAAA,MAAA,sBACT,UAGD,yBAec,GAdZb,MAAM,wSAWNc,GAAG,a,+BACJ,iBAED,C,0FCtGG,G,UAAA,6BAAgB,CAC7BC,KAAM,QACNC,MAF6B,WAG3B,IAAMC,EAAS,iBACTT,EAAO,sBAAS,CACpBU,SAAU,GACVT,UAAW,GACXG,SAAU,KAGNO,EAAkB,oBAAO,cAEzBC,EAAiB,oBAAO,aAE9B,SAASP,IACPQ,QAAQC,IAAId,GACZ,EAAAe,EACGC,IAAI,sBAAuB,CAAEC,iBAAiB,IAC9CC,MAAK,SAACC,GACL,EAAAJ,EACGK,KAAK,iBAAkB,CACtBC,MAAOrB,EAAKC,UACZG,SAAUJ,EAAKI,WAEhBc,MAAK,SAACC,GACLG,IACAX,EAAWY,OAAQ,EACnBd,EAAOe,KAAK,QAEbC,OAAM,SAACC,GACNf,EAAWY,OAAQ,QAGxBE,OAAM,SAACC,GACNb,QAAQC,IAAR,mBAAwBY,EAAxB,UAIN,SAASJ,IACP,EAAAP,EACGC,IAAI,WAAY,CAAEC,iBAAiB,IACnCC,MAAK,SAACC,GACLP,EAAUe,OAASR,EAASS,KAAK7B,GACjCa,EAAUX,UAAYkB,EAASS,KAAKP,MACpCT,EAAUF,SAAWS,EAASS,KAAKrB,KACnCK,EAAUiB,SAAWV,EAASS,KAAKC,YAEpCJ,OAAM,SAACC,GACNI,MAAMJ,EAAMP,UACZR,EAAWY,OAAQ,KAIzB,MAAO,CAELvB,OACAW,aACAC,YAEAP,QACAiB,YAGJS,WAAY,CACVC,QAAA,QCpEJ,EAAOC,OAASA,EAED,gB,qBCLf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACd5B,IAAK,WACH,IACE,OAAOwB,EAA0BK,KAAKC,MAAMC,MAAML,GAAQ,GAC1D,MAAOhB,GACP,MAAO,Q","file":"js/chunk-2c40e7e0.f7248d65.js","sourcesContent":["<template>\n  <div class=\"vld-parent\">\n    <loading\n      :active=\"isLoading\"\n      :can-cancel=\"true\"\n      :is-full-page=\"true\"\n      color=\"#007BFF\"\n    ></loading>\n    <div class=\"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div class=\"w-full max-w-lg mx-auto\">\n        <form class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n          <h2\n            class=\"\n              mb-6\n              pb-6\n              border-b\n              text-center text-2xl\n              font-extrabold\n              text-gray-900\n            \"\n          >\n            ログイン\n          </h2>\n          <div class=\"text-left mb-4\">\n            <label\n              class=\"block text-gray-700 text-sm font-bold mb-2\"\n              for=\"userEmail\"\n            >\n              メールアドレス\n            </label>\n            <input\n              class=\"\n                shadow\n                appearance-none\n                border\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              \"\n              id=\"userEmail\"\n              v-model=\"form.userEmail\"\n              type=\"text\"\n              placeholder=\"foodtruck@example.com\"\n            />\n          </div>\n          <div class=\"text-left mb-6\">\n            <label\n              class=\"block text-gray-700 text-sm font-bold mb-2\"\n              for=\"password\"\n            >\n              パスワード\n            </label>\n            <input\n              class=\"\n                shadow\n                appearance-none\n                rounded\n                w-full\n                py-2\n                px-3\n                text-gray-700\n                mb-3\n                leading-tight\n                focus:outline-none focus:shadow-outline\n              \"\n              id=\"password\"\n              v-model=\"form.password\"\n              type=\"password\"\n              placeholder=\"******\"\n            />\n          </div>\n          <div class=\"flex items-center justify-between\">\n            <button\n              class=\"\n                bg-blue-500\n                hover:bg-blue-700\n                text-white\n                font-bold\n                py-2\n                px-4\n                rounded\n                focus:outline-none focus:shadow-outline\n                w-1/2\n                mr-1\n              \"\n              type=\"button\"\n              @click=\"login\"\n            >\n              ログイン\n            </button>\n            <router-link\n              class=\"\n                inline-block\n                font-bold\n                text-center text-sm text-blue-500\n                hover:text-blue-800\n                rounded\n                w-1/2\n                py-2\n                px-4\n                border border-blue-500\n              \"\n              to=\"/register\"\n            >\n              新規登録\n            </router-link>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, inject } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n\nexport default defineComponent({\n  name: \"Login\",\n  setup() {\n    const router = useRouter();\n    const form = reactive({\n      userName: \"\",\n      userEmail: \"\",\n      password: \"\",\n    });\n    /* ログインの有無 */\n    const isLoggedIn: any = inject(\"isLoggedIn\");\n    // ログインしたユーザの情報\n    const loginData: any = inject(\"loginData\");\n\n    function login() {\n      console.log(form);\n      axios\n        .get(\"sanctum/csrf-cookie\", { withCredentials: true })\n        .then((response) => {\n          axios\n            .post(\"api/auth/login\", {\n              email: form.userEmail,\n              password: form.password,\n            })\n            .then((response) => {\n              getUser();\n              isLoggedIn.value = true;\n              router.push(\"/\");\n            })\n            .catch((error) => {\n              isLoggedIn.value = false;\n            });\n        })\n        .catch((error) => {\n          console.log(`csrfの方:  ${error}  `);\n        });\n    }\n\n    function getUser() {\n      axios\n        .get(\"api/user\", { withCredentials: true })\n        .then((response) => {\n          loginData.userId = response.data.id;\n          loginData.userEmail = response.data.email;\n          loginData.userName = response.data.name;\n          loginData.userType = response.data.userType;\n        })\n        .catch((error) => {\n          alert(error.response);\n          isLoggedIn.value = false;\n        });\n    }\n\n    return {\n      // データ\n      form,\n      isLoggedIn,\n      loginData,\n      // 関数\n      login,\n      getUser,\n    };\n  },\n  components: {\n    Loading,\n  },\n});\n</script>\n","\nimport { defineComponent, reactive, ref, inject } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n\nexport default defineComponent({\n  name: \"Login\",\n  setup() {\n    const router = useRouter();\n    const form = reactive({\n      userName: \"\",\n      userEmail: \"\",\n      password: \"\",\n    });\n    /* ログインの有無 */\n    const isLoggedIn: any = inject(\"isLoggedIn\");\n    // ログインしたユーザの情報\n    const loginData: any = inject(\"loginData\");\n\n    function login() {\n      console.log(form);\n      axios\n        .get(\"sanctum/csrf-cookie\", { withCredentials: true })\n        .then((response) => {\n          axios\n            .post(\"api/auth/login\", {\n              email: form.userEmail,\n              password: form.password,\n            })\n            .then((response) => {\n              getUser();\n              isLoggedIn.value = true;\n              router.push(\"/\");\n            })\n            .catch((error) => {\n              isLoggedIn.value = false;\n            });\n        })\n        .catch((error) => {\n          console.log(`csrfの方:  ${error}  `);\n        });\n    }\n\n    function getUser() {\n      axios\n        .get(\"api/user\", { withCredentials: true })\n        .then((response) => {\n          loginData.userId = response.data.id;\n          loginData.userEmail = response.data.email;\n          loginData.userName = response.data.name;\n          loginData.userType = response.data.userType;\n        })\n        .catch((error) => {\n          alert(error.response);\n          isLoggedIn.value = false;\n        });\n    }\n\n    return {\n      // データ\n      form,\n      isLoggedIn,\n      loginData,\n      // 関数\n      login,\n      getUser,\n    };\n  },\n  components: {\n    Loading,\n  },\n});\n","import { render } from \"./Login.vue?vue&type=template&id=a2dfde1c\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}